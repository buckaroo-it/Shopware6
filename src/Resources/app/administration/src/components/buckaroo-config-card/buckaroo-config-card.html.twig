<sw-card position-identifier="buckaroo-config-card">
    <template #title>
        {{ getInlineSnippet(card.title) }}
    </template>
    <template v-for="element in card.elements" :key="element.name">
        <template v-if="canShow(element)">
            <slot
                    name="card-element"
                    v-bind="{ element: getElementBind(element), config: localConfigData, card }"
            >
                <sw-inherit-wrapper
                        :modelValue="localConfigData[element.name]"
                        @update:modelValue="localConfigData[element.name] = $event"
                        v-bind="getInheritWrapperBind(element)"
                        :has-parent="isNotDefaultSalesChannel"
                        :inherited-value="getInheritedValue(element)"
                        :class="'sw-system-config--field-' + kebabCase(getElementBind(element).name)"
                >
                    <template #content="props">
                        <sw-form-field-renderer
                                v-bind="getElementBind(element, props)"
                                :key="props.isInheritField + props.isInherited"
                                :disabled="props.isInherited"
                                :value="props.currentValue"
                                :error="getFieldError(element.name)"
                                @input="props.updateCurrentValue"
                                @change="props.updateCurrentValue"
                        >
                            <template #label>
                                {{ element.config.label[$root.$i18n.locale] }}
                            </template>
                            <template #description>
                                {{ element.config.description }}
                            </template>
                            <template #helpText>
                                {{ element.config.helpText[$root.$i18n.locale] }}
                            </template>
                        </sw-form-field-renderer>
                    </template>
                </sw-inherit-wrapper>
            </slot>
            <buckaroo-test-credentials
                    v-if="canShowCredentialTester(element)"
                    :config="localConfigData"
                    :currentSalesChannelId="currentSalesChannelId"
            />
        </template>
    </template>
</sw-card>
